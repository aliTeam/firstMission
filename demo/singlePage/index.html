<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>单页布局</title>
	<link rel="stylesheet" href="singlePage.css">
	<script src="../../js/jquery-1.11.2.min.js"></script>
	<script>
		$(function() {
			//滚动条滚动
			$(window).scroll(function() {
				var top = $(document).scrollTop();
				var menu = $('#menu');
				// *+2 这样的效率要比$('#content .item')要高，查找id的速度要比class的要高很多
				var items = $('#content').find('.item');
				//当前楼层的id
				var currentId = '';
				items.each(function() {
					var t = $(this);
					var itemTop = t.offset().top;
					// *+5 为了用户体验itemTop-200
					if (top > itemTop-200 ) {
						currentId='#' + t.attr('id');
					} else {
					// *+3 不满足条件跳出循环，避免多余的循环，提升效率
						return false;
					}	
				});
				var currentLink = $('#menu').find('.current');
				// *+4 若当前链接id为正确的，不必做if里面的操作
				if (currentLink && currentLink.attr('href') != currentId) {
					currentLink.removeClass('current');
					menu.find('[href='+currentId+']').addClass('current');
				}
			});
		})
	</script>
</head>
<body>
	<div id="menu">
		<ul>
			<li><a href="#item1" class="current">概述</a></li>
			<li><a href="#item2">区块1</a></li>
			<li><a href="#item3">区块2</a></li>
			<li><a href="#item4">区块3</a></li>
		</ul>
	</div>
	<div id="content">
		<h1>单页布局</h1>
		<div id="item1" class="item">
			<h2>概述</h2>
			<p>单页布局：这种布局使用一个单独的页面来呈现网站的内容。它并不一定意味着这些设计就是极简的（遵循“少即是多”原则）</p>
			<p>单页布局：这种布局使用一个单独的页面来呈现网站的内容。它并不一定意味着这些设计就是极简的（遵循“少即是多”原则）</p>
			<p>单页布局：这种布局使用一个单独的页面来呈现网站的内容。它并不一定意味着这些设计就是极简的（遵循“少即是多”原则）</p>
			<p>单页布局：这种布局使用一个单独的页面来呈现网站的内容。它并不一定意味着这些设计就是极简的（遵循“少即是多”原则）</p>
			<p>单页布局：这种布局使用一个单独的页面来呈现网站的内容。它并不一定意味着这些设计就是极简的（遵循“少即是多”原则）</p>
			<p>单页布局：这种布局使用一个单独的页面来呈现网站的内容。它并不一定意味着这些设计就是极简的（遵循“少即是多”原则）</p>
			<p>单页布局：这种布局使用一个单独的页面来呈现网站的内容。它并不一定意味着这些设计就是极简的（遵循“少即是多”原则）</p>
		</div>
		<div id="item2" class="item">
			<h2>区块1</h2>
			<ul>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
			</ul>
		</div>
		<div id="item3" class="item">
			<h2>区块2</h2>
			<ul>
				<li><a href="#"><img src="1.jpg" alt=""></a></li>
				<li><a href="#"><img src="1.jpg" alt=""></a></li>
				<li><a href="#"><img src="1.jpg" alt=""></a></li>
				<li><a href="#"><img src="1.jpg" alt=""></a></li>
				<li><a href="#"><img src="1.jpg" alt=""></a></li>
				<li><a href="#"><img src="1.jpg" alt=""></a></li>
				<li><a href="#"><img src="1.jpg" alt=""></a></li>
				<li><a href="#"><img src="1.jpg" alt=""></a></li>
				<li><a href="#"><img src="1.jpg" alt=""></a></li>
			</ul>
		</div>
		<div id="item4" class="item">
			<h2>区块3</h2>
			<ul>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
				<li><a href="#"><img src="2.jpg" alt=""></a></li>
			</ul>
		</div>
	</div>
</body>
</html>